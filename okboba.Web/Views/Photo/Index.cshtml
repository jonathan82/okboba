@using okboba.Resources
@model okboba.Web.Models.PhotoIndexViewModel

@{
    ViewBag.Title = "Profile Photos";
}

@Html.Action("ProfileHeader","Profile", new { profileId = Model.ProfileId, isMe = Model.IsMe, section = i18n.Nav_Photos })

@Html.Action("ListPhotos", new {userId = Model.UserId, isMe = Model.IsMe })

@Html.Partial("_PhotoUpload")

@Html.Partial("_EditThumbnail")

@Html.Partial("_Photoswipe")

@section Scripts {

    <script>
        $(function () {
            //setup button handlers
            $('[data-toggle="photoupload"]').photoUpload();
            $('[data-toggle="editthumbnail"]').editthumbnail();
            $('[data-toggle="deletephoto"').deletephoto();

            //setup hover
            $('.grid-item').hover(function () {
                $(this).children('.photo-edit-overlay').slideToggle();
            });

            //setup photo gallery
            $('.photo-thumbnail-full').photoswipe();

            //messaging
            messaging.initModule();
        });        
    </script>
}